<?xml version="1.0" encoding="UTF-8"?>
<microprocessor name="Delta calculator" description="Microcontroller to calculate delta of a given number" width="1" length="2" id_counter="8" id_counter_node="2" sym2="16380" sym3="12292" sym4="12292" sym5="6152" sym6="6152" sym7="3088" sym8="3088" sym9="1568" sym10="1568" sym11="832" sym12="832" sym13="384" sym14="384">
	<nodes>
		<n id="1" component_id="3">
			<node label="Number" mode="1" type="1" description="The input signal to be processed."/>
		</n>
		<n id="2" component_id="5">
			<node label="Delta" type="1" description="The input signal to be processed.">
				<position z="1"/>
			</node>
		</n>
	</nodes>
	<group>
		<data>
			<inputs/>
			<outputs/>
		</data>
		<components>
			<c type="56">
				<object id="6" script="tickTime = 0
lastValue = 0
function onTick()
	value = input.getNumber(1)
	
	tickTime = tickTime + 1
	if (tickTime &gt;= 60) then
		tickTime = 0
		
		delta = value - lastValue
		lastValue = value
	end
	
	output.setNumber(1, delta)
end">
					<pos x="0.5"/>
					<in1 component_id="7">
						<v/>
					</in1>
					<in2>
						<v/>
					</in2>
					<out1>
						<v/>
					</out1>
					<out2>
						<v/>
					</out2>
				</object>
			</c>
			<c type="40">
				<object id="7" count="1">
					<pos x="-0.75"/>
					<inc>
						<v/>
					</inc>
					<in1 component_id="3"/>
					<out1>
						<v/>
					</out1>
				</object>
			</c>
			<c type="31">
				<object id="8">
					<pos x="1.5" y="0.25"/>
					<in1 component_id="6">
						<v/>
					</in1>
					<out1/>
				</object>
			</c>
		</components>
		<components_bridge>
			<c type="2">
				<object id="3">
					<pos x="-2"/>
					<in1/>
					<out1/>
				</object>
			</c>
			<c type="3">
				<object id="5">
					<pos x="2.5" y="0.25"/>
					<in1 component_id="8"/>
					<out1/>
				</object>
			</c>
		</components_bridge>
		<groups/>
		<component_states>
			<c0 id="6" script="tickTime = 0
lastValue = 0
function onTick()
	value = input.getNumber(1)
	
	tickTime = tickTime + 1
	if (tickTime &gt;= 60) then
		tickTime = 0
		
		delta = value - lastValue
		lastValue = value
	end
	
	output.setNumber(1, delta)
end">
				<pos x="0.5"/>
				<in1 component_id="7">
					<v/>
				</in1>
				<in2>
					<v/>
				</in2>
				<out1>
					<v/>
				</out1>
				<out2>
					<v/>
				</out2>
			</c0>
			<c1 id="7" count="1">
				<pos x="-0.75"/>
				<inc>
					<v/>
				</inc>
				<in1 component_id="3"/>
				<out1>
					<v/>
				</out1>
			</c1>
			<c2 id="8">
				<pos x="1.5" y="0.25"/>
				<in1 component_id="6">
					<v/>
				</in1>
				<out1/>
			</c2>
		</component_states>
		<component_bridge_states>
			<c0 id="3">
				<pos x="-2"/>
				<in1/>
				<out1/>
			</c0>
			<c1 id="5">
				<pos x="2.5" y="0.25"/>
				<in1 component_id="8"/>
				<out1/>
			</c1>
		</component_bridge_states>
		<group_states/>
	</group>
</microprocessor>

